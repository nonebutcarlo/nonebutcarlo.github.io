(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0139":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{staticClass:"full-width"},[a("q-card-section",[a("div",{staticClass:"text-h6 q-mb-lg"},[t._v(t._s(t.title)+" ")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("q-form",{ref:"formDati",attrs:{dense:""},on:{submit:function(e){return e.preventDefault(),t.inviaDati(e)},reset:t.onReset}},[a("q-input",{staticClass:"col q-mb-sm",attrs:{label:"Nome",outlined:"",clearable:""},model:{value:t.saldo.nome,callback:function(e){t.$set(t.saldo,"nome",e)},expression:"saldo.nome"}}),a("q-input",{staticClass:"col q-mb-sm",attrs:{label:"Importo",outlined:"",clearable:""},model:{value:t.saldo.value,callback:function(e){t.$set(t.saldo,"value",e)},expression:"saldo.value"}}),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Annulla",outline:"",color:"primary"}}),a("q-btn",{attrs:{type:"submit",unelevated:"",label:"Salva",color:"primary"}})],1)],1)],1)],1)},o=[],i=(a("bd4c"),{name:"DialogAddEditSaldi",computed:{},data(){return{oggi:new Date,saldo:this.editSaldo||{nome:"",value:""},prompt:!1}},props:{title:{type:String,default:"Missing"},editSaldo:{type:Object,default:null}},methods:{onReset(){},inviaDati(){this.$refs.formDati.validate().then((t=>{t&&(this.$emit("saldo",this.saldo),this.$emit("close"))}))}}}),l=i,n=a("2877"),r=a("f09f"),d=a("a370"),c=a("0378"),u=a("27f9"),m=a("4b7e"),f=a("9c40"),p=a("7f67"),h=a("eebe"),b=a.n(h),g=Object(n["a"])(l,s,o,!1,null,null,null);e["default"]=g.exports;b()(g,"components",{QCard:r["a"],QCardSection:d["a"],QForm:c["a"],QInput:u["a"],QCardActions:m["a"],QBtn:f["a"]}),b()(g,"directives",{ClosePopup:p["a"]})},2637:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("div",{staticClass:"row q-mx-lg q-mt-lg justify-start"},[a("div",{staticClass:"text-primary text-start text-h5 q-mr-md"},[t._v("\n      Personale\n    ")]),a("div",{staticClass:"text-start text-h5",class:t.saldoPersonale>0?"text-positive":"text-negative"},[t._v("\n      "+t._s(t.currency(t.saldoPersonale))+"\n    ")]),a("q-space"),a("q-btn",{attrs:{icon:"add",rounded:"",color:"primary"},on:{click:function(e){t.showAdd=!t.showAdd}}})],1),a("div",{staticClass:"row q-mx-lg q-mb-lg justify-start"},[a("div",{staticClass:"text-primary text-start text-body1 q-mr-md"},[t._v("\n      Totale\n    ")]),a("div",{staticClass:"text-start text-body1",class:t.saldoTotale>0?"text-positive":"text-negative"},[t._v("\n      "+t._s(t.currency(t.saldoTotale))+"\n\n    ")])]),a("div",{staticClass:"q-ma-sm"},[a("q-list",{attrs:{separator:""}},t._l(t.saldiArray,(function(e){return a("q-slide-item",{key:e.id,attrs:{"left-color":"orange","right-color":"red"},on:{right:function(a){return t.slideDelete(a,e)},left:function(a){return t.slideEdit(a,e)}},scopedSlots:t._u([{key:"left",fn:function(){return[a("q-icon",{attrs:{name:"edit"}})]},proxy:!0},{key:"right",fn:function(){return[a("q-icon",{attrs:{name:"delete"}})]},proxy:!0}],null,!0)},[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-badge",{attrs:{color:"primary text-center"},domProps:{innerHTML:t._s(t.splitData(e.data))}})],1),a("q-item-section",{},[a("q-item-label",{attrs:{lines:"2"}},[t._v(t._s(e.nome)+" ")])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"text-primary"},[a("q-btn",{attrs:{flat:"",dense:"",size:"sm",round:"",icon:"edit"},on:{click:function(a){return t.editSaldo(e)}}}),a("q-btn",{attrs:{flat:"",dense:"",size:"sm",round:"",icon:"delete"},on:{click:function(a){return t.deleteSaldo(e)}}})],1),a("q-badge",{staticClass:"text-weight-bold",attrs:{color:e.value>0?"positive":"negative"}},[t._v(t._s(t.currency(e.value))+" ")])],1)],1)],1)})),1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.showAdd,callback:function(e){t.showAdd=e},expression:"showAdd"}},[a("showAdd-dialog",{attrs:{title:"Aggiungi Saldo"},on:{saldo:t.aggiungiSaldo,close:function(e){t.showAdd=!1}}})],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.showEdit,callback:function(e){t.showEdit=e},expression:"showEdit"}},[a("showAdd-dialog",{attrs:{title:"Modifica Saldo",editSaldo:this.salToEdit},on:{close:function(e){t.showEdit=!1},saldo:t.aggiornaSaldo}})],1)],1)},o=[],i=(a("4e82"),a("ded3")),l=a.n(i),n=a("2f62"),r=a("bd4c"),d=(a("436b"),a("4506")),c={name:"ListaSaldi",data(){return{showAdd:!1,showEdit:!1,salToEdit:null,confirm:!1,reset:!1}},mounted(){this.firestoreGetSaldi().then((t=>Object(d["c"])(t))).catch((t=>{Object(d["c"])(t,!0),this.$router.push({name:"home"}).catch((()=>{}))}))},destroyed(){this.firestoreStopGettingSaldi()},computed:l()(l()(l()({},Object(n["d"])("saldi",["saldi"])),Object(n["c"])("auth",["saldoPersonale","saldoTotale"])),{},{saldiArray(){return Object.values(this.saldi).sort(((t,e)=>t.nome===e.nome?0:t.nome<e.nome?1:-1))}}),methods:l()(l()({},Object(n["b"])("saldi",["firestoreGetSaldi","firestoreStopGettingSaldi","firestoreSaveSaldo","firestoreAggiornaSaldo","firestoreDeleteSaldo"])),{},{currency(t){return new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(t)},splitData(t){return r["b"].formatDate(t,"DD")+"<br>"+r["b"].formatDate(t,"MMM")+"<br>"+r["b"].formatDate(t,"YYYY")},formattaData(t){return r["b"].formatDate(t,"DD/MM/YYYY")},aggiornaSaldo(t){this.salToEdit=null,t.data=new Date,this.firestoreAggiornaSaldo(t).then((t=>Object(d["c"])(t))).catch((t=>Object(d["c"])(t,!0)))},aggiungiSaldo(t){t.data=new Date,this.firestoreSaveSaldo(t).then((t=>Object(d["c"])(t))).catch((t=>Object(d["c"])(t,!0)))},slideEdit({reset:t},e){this.editSaldo(e),t()},editSaldo(t){const e=l()({},t);this.salToEdit=e,this.showEdit=!0},slideDelete({reset:t},e){this.deleteSaldo(e),t()},deleteSaldo(t){this.$q.dialog({persistent:!0,message:"Rimuovo il saldo definitivamente?",ok:{label:"Rimuovi",color:"negative"},cancel:{label:"Annulla"}}).onOk((()=>{this.firestoreDeleteSaldo(t.id).then((t=>Object(d["c"])(t))).catch((t=>Object(d["c"])(t,!0)))}))}}),components:{"showAdd-dialog":a("0139").default}},u=c,m=a("2877"),f=a("9989"),p=a("2c91"),h=a("9c40"),b=a("1c1c"),g=a("de1d"),v=a("0016"),q=a("66e5"),S=a("4074"),w=a("58a81"),y=a("0170"),x=a("24e8"),D=a("eebe"),A=a.n(D),_=Object(m["a"])(u,s,o,!1,null,null,null);e["default"]=_.exports;A()(_,"components",{QPage:f["a"],QSpace:p["a"],QBtn:h["a"],QList:b["a"],QSlideItem:g["a"],QIcon:v["a"],QItem:q["a"],QItemSection:S["a"],QBadge:w["a"],QItemLabel:y["a"],QDialog:x["a"]})}}]);